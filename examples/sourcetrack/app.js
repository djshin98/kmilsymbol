/* eslint-disable */
var size1112 = {
    "-": [
        { code: "--", desc: " NULL " },
        { code: "-A", desc: " TEAM / CREW 조 / 병사 " },
        { code: "-B", desc: " SQURD 분대 " },
        { code: "-C", desc: " SECTION 반 " },
        { code: "-D", desc: " PLATOON/DETACHMENT 소대 / 분견대 " },
        { code: "-E", desc: " COMPANY / BATTERY / TROOP 중대 / 포대 / 기갑 " },
        { code: "-F", desc: " BATTALION/SQUADRON 대대 / 비행대대 " },
        { code: "-G", desc: " REGIMENT / GROUP 연대 / 단 " },
        { code: "-H", desc: " BRIGADE 여단 " },
        { code: "-I", desc: " DIVISION 사단 " },
        { code: "-J", desc: " CORPS / MEF 군단 " },
        { code: "-K", desc: " ARMY 야전군 " },
        { code: "-L", desc: " ARMY GROUP / FRONT 집단군 " },
        { code: "-M", desc: " REGION 지역군 " },
        { code: "-N", desc: " COMMAND 사령부" }
    ],
    "A": [
        { code: "A-", desc: " HEADQUARTERS(HQ) 지휘소 " },
        { code: "AA", desc: " HQ TEAM / CREW 조 / 병사 지휘소 " },
        { code: "AB", desc: " HQ SQUAD 분대 지휘소 " },
        { code: "AC", desc: " HQ SECTION 반 지휘소 " },
        { code: "AD", desc: " HQ PLATOON/DETACHMENT 소대/분견대 지휘소 " },
        { code: "AE", desc: " HQ COMPANY / BATTERY / TROOP 중대 / 포대 / 기갑 지휘소 " },
        { code: "AF", desc: " HQ BATTALION / SQUADRON 대대/비행대대 지휘소 " },
        { code: "AG", desc: " HQ REGIMENT / GROUP 연대 / 단 지휘소 " },
        { code: "AH", desc: " HQ BRIGADE 여단 지휘소 " },
        { code: "AI", desc: " HQ DIVISION 사단 지휘소 " },
        { code: "AJ", desc: " HQ CORPS / MEF 군단 지휘소 " },
        { code: "AK", desc: " HQ ARMY 야전군 지휘소 " },
        { code: "AL", desc: " HQ ARMY GROUP / FRONT 집단군 지휘소 " },
        { code: "AM", desc: " HQ REGION 지역군 지휘소 " },
        { code: "AN", desc: " HQ COMMAND 사령부 지휘소" }
    ],
    "B": [
        { code: "B-", desc: " TASK FORCE(TF) HQ 기동부대 " },
        { code: "BA", desc: " TF HQ TEAM / CREW 기동부대 조 / 병사 지휘소 " },
        { code: "BB", desc: " TF HQ SQUAD 기동부대 분대 지휘소 " },
        { code: "BC", desc: " TF HQ SECTION 기동부대 반 지휘소 " },
        { code: "BD", desc: " TF HQ PLATOON / DETACHMENT 기동부대 소대 / 분견대 지휘소 " },
        { code: "BE", desc: " TF HQ COMPANY / BATTERY / TROOP 기동부대 중대 / 포대 / 기갑 지휘소 " },
        { code: "BF", desc: " TF HQ BATTALION / SQUADRON 기동부대 대대 / 비행대대 지휘소 " },
        { code: "BG", desc: " TF HQ REGIMENT / GROUP 기동부대 연대 / 단 지휘소 " },
        { code: "BH", desc: " TF HQ BRIGADE 기동부대 여단 지휘소 " },
        { code: "BI", desc: " TF HQ DIVISION 기동부대 사단 지휘소 " },
        { code: "BJ", desc: " TF HQ CORPS/MEF 기동부대 군단 지휘소 BIK TF HQ ARMY 기동부대 야전군 지휘소 " },
        { code: "BL", desc: " TF HQ ARMY GROUP / FRONT 기동부대 집단군 지휘소 " },
        { code: "BM", desc: " TF HQ REGION 기동부대 지역군 지휘소 " },
        { code: "BN", desc: " TF HQ COMMAND 기동부대 사령부 지휘소" }
    ],
    "C": [
        { code: "C-", desc: " FEINT DUMMY(FD) HQ 가장/가상 지휘소 " },
        { code: "CA", desc: " FD HQ TEAM / CREW 가장 / 가상 조 / 병사 지휘소 " },
        { code: "CB", desc: " FD HQ SQUAD 가장 / 가상 분대 지휘소 " },
        { code: "CC", desc: " FD HQ SECTION 가장 / 가상 반 지휘소 " },
        { code: "CD", desc: " FD HQ PLATOON / DETACHMENT 가장 / 가상 소대 / 분견대 지휘소 " },
        { code: "CE", desc: " FD HQ COMPANY / BATTERY / TROOP 가장 / 가상 중대 / 포대 / 기갑 지휘소 " },
        { code: "CF", desc: " FD HQ BATTALION / SQUADRON 가장 / 가상 대대 / 비행대대 지휘소 " },
        { code: "CG", desc: " FD HQ REGIMENT / GROUP 가장 / 가상 연대 / 단 지휘소 " },
        { code: "CH", desc: " FD HQ BRIGADE 가장 / 가상 여단 지휘소 " },
        { code: "CI", desc: " FD HQ DIVISION 가장 / 가상 사단 지휘소 " },
        { code: "CJ", desc: " FD HQ CORPS / MEF 가상 / 가장 군단 지휘소 " },
        { code: "CK", desc: " FD HQ ARMY 가장 / 가상 야전군 지휘소 " },
        { code: "CL", desc: " FD HQ ARMY GROUP / FRONT 가장 / 가상 집단군 지휘소 " },
        { code: "CM", desc: " FD HQ REGION 가장 / 가상 지역군 지휘소 " },
        { code: "CN", desc: " FD HQ COMMAND 가장 / 가상 사령부 지휘소" }
    ],
    "D": [
        { code: "D-", desc: " FEINTDUMMY / TASK FORCE(FD / TF)HQ 가장 / 가상 기동부대 지휘소 " },
        { code: "DA", desc: " FD / TF TEAM / CREW 가장 / 가상 기동부대 조 / 병사 지휘소 " },
        { code: "DB", desc: " FD / TF HQ SQUAD 가장 / 가상 기동부대 분대 지휘소 " },
        { code: "DC", desc: " FD/TF SECTION 가장 / 가상 기동부대 반 지휘소 " },
        { code: "DD", desc: " FD / TF HQ PLATOON / DETACHMENT 가장 / 가상 기동부대 소대 / 분견대 지휘소 " },
        { code: "DE", desc: " FD / TF COMPANY / BATTERY / TROOP 가장 / 가상 기동부대 중대 / 포대 / 기갑 지휘소 " },
        { code: "DF", desc: " FD/TF HQ BATTALION / SQUADRON 가장 / 가상 기동부대 대대 / 비행대대 지휘소 " },
        { code: "DG", desc: " FD / TF REGIMENT / GROUP 가장 / 가상 기동부대 연대/단 지휘소 " },
        { code: "DH", desc: " FD / TF HQ BRIGADE 가장 / 가상 기동부대 여단 지휘소 " },
        { code: "DI", desc: " FD / TF DIVISION 가장 / 가상 기동부대 사단 지휘소 " },
        { code: "DJ", desc: " FD/TF HQ CORPS / MEF 가장 / 가상 기동부대 군단 지휘소 " },
        { code: "DK", desc: " FD / TF ARMY 가장 / 가상 기동부대 야전군 지휘소 " },
        { code: "DL", desc: " FD / TF HQ ARMY GROUP / FRONT 가장 / 가상 기동부대 집단군 지휘소 " },
        { code: "DM", desc: " FD / TF REGION 가장 / 가상 기동부대 지역군 지휘소 " },
        { code: "DN", desc: " FD / TF HQ COMMAND 가장 /가상 기동부대 사령부 지휘소" }
    ],
    "E": [
        { code: "E-", desc: " TASK FORCE(TF) 기동부대 " },
        { code: "EA", desc: " TF TEAM / CREW 기동부대 조 / 병사 " },
        { code: "EB", desc: " TF SQUAD 기동부대 분대 " },
        { code: "EC", desc: " TF SECTION 기동부대 반 " },
        { code: "ED", desc: " TF PLATOON / DETACHMENT 기동부대 소대 / 분견대 " },
        { code: "EE", desc: " TF COMPANY / BATTERY / TROOP 기동부대 중대 / 포대 / 기갑 " },
        { code: "EF", desc: " TF BATTALION / SQUADRON 기동부대 대대 / 비행대대 " },
        { code: "EG", desc: " TF REGIMENT / GROUP 기동부대 연대 / 단 " },
        { code: "EH", desc: " TF BRIGADE 기동부대 여단 " },
        { code: "EI", desc: " TF DIVISION 기동부대 사단 " },
        { code: "EJ", desc: " TF CORPS / MEF 기동부대 군단 " },
        { code: "EK", desc: " TF ARMY 기동부대 야전군 " },
        { code: "EL", desc: " TF ARMY GROUP / FRONT 기동부대 집단군 " },
        { code: "EM", desc: " TF REGION 기동부대 지역군 " },
        { code: "EN", desc: " TF COMMAND 기동부대 사령부" }
    ],
    "F": [
        { code: "F-", desc: " FEINT DUMMY(FD) 가장 / 가상 " },
        { code: "FA", desc: " 'FD TEAM / CREW 가장 / 가상 조 / 병사 " },
        { code: "FB", desc: " 'FD SQUAD 가장 / 가상 분대 " },
        { code: "FC", desc: " 'FD SECTION 가장 / 가상 반 " },
        { code: "FD", desc: " FD PLATOON / DETACHMENT 가장 / 가상 소대 / 분견대 " },
        { code: "FE", desc: " FD COMPANY / BATTERY / TROOP 가장 / 가상 중대 / 포대/기갑 " },
        { code: "FF", desc: " FD BATTALION / SQUADRON 가장 / 가상 대대 / 비행대대 " },
        { code: "FG", desc: " FD REGIMENT / GROUP 가장 / 가상 연대 / 단 " },
        { code: "FH", desc: " FD BRIGADE 가장 / 가상 여단 " },
        { code: "FI", desc: " FD DIVISION 가장 / 가상 사단 " },
        { code: "FJ", desc: " FD CPR[S/MEF 가장 / 가상 군단 " },
        { code: "FK", desc: " FD ARMY 가장 / 가상 야전군 " },
        { code: "FL", desc: " FD ARMY GROUP / FRONT 가장 / 가상 집단군 " },
        { code: "FM", desc: " FD REGION 가장 / 가상 지역군 " },
        { code: "FN", desc: " FD COMMAND 가장 / 가상 사령부" }
    ],
    "G": [
        { code: "G-", desc: " FEINT DUMMY / TASK FORCE(FD / TF) 가장 / 가상 기동부대 " },
        { code: "GA", desc: " FD / TF TEAM / CREW 가장 / 가상 기동부대 조 / 병사 " },
        { code: "GB", desc: " FD / TF SQUAD 가장 / 가상 기동부대 분대 " },
        { code: "GC", desc: " FD / TF SECTION 가장 / 가상 기동부대 반 " },
        { code: "GD", desc: " FD / TF PLATOON / DETACHMENT 가장 / 가상 기동부대 소대 / 분견대 " },
        { code: "GE", desc: " FD/TF COMPANY / BATTERY / TROOP 가장 / 가상 기동부대 중대 / 포대 / 기갑 " },
        { code: "GF", desc: " FD / TF BATTALION / SQUADRON 가장 / 가상 기동부대 대대 / 비행대대 " },
        { code: "GG", desc: " FD / TF REGIMENT / GROUP 가장 / 가상 기동부대 연대 / 단 " },
        { code: "GH", desc: " FD/TF BRIGADE 가장/가상 기동부대 여단 " },
        { code: "GI", desc: " FD / TF DIVISION 가장 / 가상 기동부대 사단 " },
        { code: "GJ", desc: " FD / TF CORPS / MEF 가장 / 가상 기동부대 군단 " },
        { code: "GK", desc: " FD / TF ARMY 가장 / 가상 기동부대 야전군 " },
        { code: "GL", desc: " FD/TF ARMY GROUP/FRONT 가장/가상 기동부대 집단군 " },
        { code: "GM", desc: " FD / TF REGION 가장 / 가상 기동부대 지역군 " },
        { code: "GN", desc: " FD / TF COMMAND 가장 / 가상 기동부대 사령부" }
    ],
    "H": [
        { code: "H-", desc: " INSTALLAION 시설 " },
        { code: "HB", desc: " FEINT DUMMY INSTALLATION 가장 / 가상 시설" }
    ],
    "M": [
        { code: "MO", desc: " MOBILITY WHEELED / LIMITED CROSS COUNTRY 차륜식 " },
        { code: "MP", desc: " MOBILITY CROSS COUNTRY 야지횡단 차륜식 " },
        { code: "MQ", desc: " MOBILITY TRACKED 궤도식 " },
        { code: "MR", desc: " MOBILITY WHEELED AND TRACKED COMBINATION 차륜 궤도식 " },
        { code: "MS", desc: " MOBILITY TOWED 견인식 " },
        { code: "MT", desc: " MOBILITY RAIL 철도식 " },
        { code: "MU", desc: " BOBILITY OVER THE SNOW 설상 이동식 " },
        { code: "MV", desc: " MOBILITY SLED 썰매이동식 " },
        { code: "MW", desc: " MOBILITY PACK ANIMALS 동물견인식 " },
        { code: "MX", desc: " MOBILITY BARGE 선박이동식 " },
        { code: "MY", desc: " MOBILITY AMPHIBIOUS 수륙양용식" }
    ],
    "N": [
        { code: "NS", desc: " TOWED ARRAY (SHORT) 견인 소나 열 (단) " },
        { code: "NL", desc: " TOWED ARRAY (LONG) 견인 소나 열 (장)" }
    ]
};

class ViewModelElement {
    constructor(options) {
        this.options = Object.assign({}, options);
        let ele = document.querySelector("#" + this.options.id);

        ele.onchange = symbolTest.try;
        if (this.options.type == "input") {
            ele.onkeyup = symbolTest.try;
        }
    }
    dataKey() {
        return this.options.dataKey;
    }
    val(v) {
        if (v) {
            let ele = document.querySelector("#" + this.options.id);
            ele.value = v;
        } else {
            let val = undefined;
            let ele = document.querySelector("#" + this.options.id);
            if (["text", "string"].indexOf(this.options.dataType) >= 0) {
                val = ele.value;
            } else if (["bool", "boolean"].indexOf(this.options.dataType) >= 0) {
                if (ele.value) {
                    let bv = ele.value.toLowerCase();
                    if (bv == "true") val = true;
                    if (bv == "false") val = false;
                }

            } else if (["number"].indexOf(this.options.dataType) >= 0) {
                val = parseFloat(ele.value);
                if (isNaN(val)) val = undefined;
            }

            if (val == undefined && this.options.dataDefault != undefined) {

                return this.options.dataDefault;
            } else {
                if (this.options.dataUndefined && this.options.dataUndefined == val) {
                    return undefined;
                }
                return val;
            }
        }
    }
}
var symbolTest = {
    viewModels: [],
    create: function() {
        var sel = this.viewModels.filter(d => { let v = d.val(); return v != undefined ? true : false; });
        var option = sel.reduce((prev, curr) => { prev[curr.dataKey()] = curr.val(); return prev }, {});
        if (option.sic && option.sic.length > 0) {
            var symbol = new ms.Symbol(option.sic, option);

            option.code = symbol.toDataURL();
            return symbolTest.template(option.code);
        }
    },
    template: function(result) {
        return '<img class="symbol-sm" src="' + result + '"/>';
    },
    try: function() {
        let output = symbolTest.create();
        if (output) {
            let div = document.querySelector("#symbolResult");
            div.innerHTML = output;
        }
    }
};
window.onload = function() {
    symbolTest.viewModels.push(new ViewModelElement({ dataKey: "size", id: "symbolSize", type: "input", dataType: "number", dataDefault: 200 }));
    symbolTest.viewModels.push(new ViewModelElement({ dataKey: "sic", id: "symbolCode", type: "input", dataType: "text" }));
    symbolTest.viewModels.push(new ViewModelElement({ dataKey: "uniqueDesignation", id: "symbolLabel", type: "input", dataType: "text" }));
    symbolTest.viewModels.push(new ViewModelElement({ dataKey: "fill", id: "symbolFill", type: "select", dataType: "bool" }));
    symbolTest.viewModels.push(new ViewModelElement({ dataKey: "frame", id: "symbolFrame", type: "select", dataType: "bool" }));
    symbolTest.viewModels.push(new ViewModelElement({ dataKey: "monoColor", id: "symbolMonoColor", type: "select", dataType: "text", dataUndefined: "none" }));
    symbolTest.viewModels.push(new ViewModelElement({ dataKey: "icon", id: "symbolIcon", type: "select", dataType: "bool" }));
}